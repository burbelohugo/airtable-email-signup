<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- <link rel="stylesheet" href="css/main.css"> -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>
    <body>

      <h1>Hello world</h1>
      <form id="target">
        <div class="input-wrapper">
          <input type="text"  placeholder="Enter your email" name="email" id="email-form-input" class="email-input">
          <input type="submit" value="Get started â†’" id="email-form-submit" class="email-input">
        </div>
      </form>

    </body>

    <script>
      $( "#target" ).submit(function( event ) {
        // https://try.airtable.com/forms
        var email = $("#email-form-input").val();
        console.log(email)
        event.preventDefault();
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "https://6l4jogzme7.execute-api.us-east-1.amazonaws.com/dev/register", true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify({
          "apikey":"key0C4CA8xtuHMDDN",
          "base":"app4raQKdmoN34zFV",
          "table":"Emails",
          "column":"Email",
          "email": email
        }));
      });
    </script>

    <style>
      .input-wrapper {
        border-style: solid;
        border-width: 3px;
        width: fit-content;
        border-color: #2D7FF9;
      }
      #email-form-input {
        border: 0;
      }
      #email-form-submit {
        background-color: #2D7FF9;
        border: none;
      }
      .email-input {
        font-size: 13.5px;
        padding: 5px;
      }
    </style>
</html>
